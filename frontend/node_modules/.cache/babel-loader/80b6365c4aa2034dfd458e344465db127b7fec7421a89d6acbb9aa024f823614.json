{"ast":null,"code":"var _jsxFileName = \"C:\\\\kodingan\\\\smart_cv\\\\front-cv-analyzer\\\\frontend\\\\src\\\\pages\\\\HRTest.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport Layout from \"../components/Layout\";\nimport axios from \"axios\";\n\n// Impor komponen yang mau ditambahkan\nimport SearchBar from \"../components/SearchBar\";\nimport CandidateCard from \"../components/CandidateCard\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function HRTest() {\n  _s();\n  // BARU: State untuk menyimpan data kandidat dan hasil filter\n  const [candidates, setCandidates] = useState([]);\n  const [filteredCandidates, setFilteredCandidates] = useState([]);\n  const [isLoading, setIsLoading] = useState(true);\n  const API_URL = process.env.REACT_APP_API_URL;\n\n  // BARU: Logika untuk mengambil data kandidat saat komponen dimuat\n  useEffect(() => {\n    const fetchCandidates = async () => {\n      try {\n        const response = await axios.get(`${API_URL}/api/hr/jobs/501/candidates`);\n        setCandidates(response.data);\n        setFilteredCandidates(response.data); // Awalnya, tampilkan semua\n      } catch (error) {\n        console.error(\"Gagal memuat data kandidat:\", error);\n      } finally {\n        setIsLoading(false);\n      }\n    };\n    fetchCandidates();\n  }, [API_URL]); // Dijalankan sekali saat komponen mounting\n\n  // BARU: Fungsi untuk menangani filter pencarian\n  const handleSearch = query => {\n    if (!query) {\n      setFilteredCandidates(candidates); // Jika query kosong, tampilkan semua\n      return;\n    }\n    const lowercasedQuery = query.toLowerCase();\n    const results = candidates.filter(candidate => {\n      const name = candidate.name || candidate.extracted_name || '';\n      return name.toLowerCase().includes(lowercasedQuery);\n    });\n    setFilteredCandidates(results);\n  };\n  return /*#__PURE__*/_jsxDEV(Layout, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"p-6 bg-white rounded shadow\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"text-3xl font-bold text-[#343F3E] mb-4\",\n        children: \"HR Test Page\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-[#505A5B]\",\n        children: \"Accessible by HR and Admin roles only.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"hr\", {\n        className: \"my-8\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-2xl font-semibold text-gray-700 mb-4\",\n          children: \"Cari Kandidat\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(SearchBar, {\n          onSearch: handleSearch\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mt-6 space-y-4\",\n          children: isLoading ? /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-center text-gray-500\",\n            children: \"Memuat data kandidat...\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 15\n          }, this) : filteredCandidates.length > 0 ? filteredCandidates.sort((a, b) => b.match_score - a.match_score).map(candidate => /*#__PURE__*/_jsxDEV(CandidateCard, {\n            candidate: candidate\n          }, candidate.id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 19\n          }, this)) : /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-center text-gray-500\",\n            children: \"Tidak ada kandidat ditemukan.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 52,\n    columnNumber: 5\n  }, this);\n}\n_s(HRTest, \"+KTmvcD41dIyH79uBcfCuvH2zdE=\");\n_c = HRTest;\nvar _c;\n$RefreshReg$(_c, \"HRTest\");","map":{"version":3,"names":["React","useState","useEffect","Layout","axios","SearchBar","CandidateCard","jsxDEV","_jsxDEV","HRTest","_s","candidates","setCandidates","filteredCandidates","setFilteredCandidates","isLoading","setIsLoading","API_URL","process","env","REACT_APP_API_URL","fetchCandidates","response","get","data","error","console","handleSearch","query","lowercasedQuery","toLowerCase","results","filter","candidate","name","extracted_name","includes","children","className","fileName","_jsxFileName","lineNumber","columnNumber","onSearch","length","sort","a","b","match_score","map","id","_c","$RefreshReg$"],"sources":["C:/kodingan/smart_cv/front-cv-analyzer/frontend/src/pages/HRTest.jsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport Layout from \"../components/Layout\";\r\nimport axios from \"axios\";\r\n\r\n// Impor komponen yang mau ditambahkan\r\nimport SearchBar from \"../components/SearchBar\";\r\nimport CandidateCard from \"../components/CandidateCard\";\r\n\r\nexport default function HRTest() {\r\n  // BARU: State untuk menyimpan data kandidat dan hasil filter\r\n  const [candidates, setCandidates] = useState([]);\r\n  const [filteredCandidates, setFilteredCandidates] = useState([]);\r\n  const [isLoading, setIsLoading] = useState(true);\r\n\r\n  const API_URL = process.env.REACT_APP_API_URL;\r\n\r\n  // BARU: Logika untuk mengambil data kandidat saat komponen dimuat\r\n  useEffect(() => {\r\n    const fetchCandidates = async () => {\r\n      try {\r\n        const response = await axios.get(\r\n          `${API_URL}/api/hr/jobs/501/candidates`\r\n        );\r\n        setCandidates(response.data);\r\n        setFilteredCandidates(response.data); // Awalnya, tampilkan semua\r\n      } catch (error) {\r\n        console.error(\"Gagal memuat data kandidat:\", error);\r\n      } finally {\r\n        setIsLoading(false);\r\n      }\r\n    };\r\n\r\n    fetchCandidates();\r\n  }, [API_URL]); // Dijalankan sekali saat komponen mounting\r\n\r\n  // BARU: Fungsi untuk menangani filter pencarian\r\n  const handleSearch = (query) => {\r\n    if (!query) {\r\n      setFilteredCandidates(candidates); // Jika query kosong, tampilkan semua\r\n      return;\r\n    }\r\n\r\n    const lowercasedQuery = query.toLowerCase();\r\n    const results = candidates.filter(candidate => {\r\n      const name = candidate.name || candidate.extracted_name || '';\r\n      return name.toLowerCase().includes(lowercasedQuery);\r\n    });\r\n    setFilteredCandidates(results);\r\n  };\r\n\r\n  return (\r\n    <Layout>\r\n      <div className=\"p-6 bg-white rounded shadow\">\r\n        {/* Konten asli tetap di sini */}\r\n        <h1 className=\"text-3xl font-bold text-[#343F3E] mb-4\">HR Test Page</h1>\r\n        <p className=\"text-[#505A5B]\">\r\n          Accessible by HR and Admin roles only.\r\n        </p>\r\n\r\n        <hr className=\"my-8\" />\r\n\r\n        {/* --- KONTEN BARU DITAMBAHKAN DI SINI --- */}\r\n        <div>\r\n          <h2 className=\"text-2xl font-semibold text-gray-700 mb-4\">Cari Kandidat</h2>\r\n          \r\n          <SearchBar onSearch={handleSearch} />\r\n\r\n          <div className=\"mt-6 space-y-4\">\r\n            {isLoading ? (\r\n              <p className=\"text-center text-gray-500\">Memuat data kandidat...</p>\r\n            ) : filteredCandidates.length > 0 ? (\r\n              filteredCandidates\r\n                .sort((a, b) => b.match_score - a.match_score)\r\n                .map((candidate) => (\r\n                  <CandidateCard key={candidate.id} candidate={candidate} />\r\n                ))\r\n            ) : (\r\n              <p className=\"text-center text-gray-500\">Tidak ada kandidat ditemukan.</p>\r\n            )}\r\n          </div>\r\n        </div>\r\n        {/* --- AKHIR DARI KONTEN BARU --- */}\r\n\r\n      </div>\r\n    </Layout>\r\n  );\r\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}