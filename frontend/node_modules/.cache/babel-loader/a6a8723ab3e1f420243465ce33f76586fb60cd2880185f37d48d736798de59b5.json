{"ast":null,"code":"// src/services/api.js\nconst API_BASE_URL = \"http://localhost:5000/api\";\n\n// Endpoint paths\nexport const Login = \"/auth/login\";\nexport const Logout = \"/auth/logout\";\n// Add more paths if needed\n\n// ======== Helper ========\nfunction getToken() {\n  return localStorage.getItem(\"token\");\n}\nasync function request(endpoint, {\n  method = \"GET\",\n  body,\n  headers = {}\n} = {}) {\n  const token = getToken();\n  const config = {\n    method,\n    headers: {\n      \"Content-Type\": \"application/json\",\n      ...headers,\n      ...(token ? {\n        Authorization: `Bearer ${token}`\n      } : {})\n    },\n    ...(body ? {\n      body: JSON.stringify(body)\n    } : {})\n  };\n  const res = await fetch(`${API_BASE_URL}${endpoint}`, config);\n  const data = await res.json();\n  if (!res.ok) {\n    throw new Error(data.message || \"API request error\");\n  }\n  return data;\n}\n\n// adjust as needed\n// ======== Auth API ========\nexport const AuthAPI = {\n  login: (email, password, role) => request(Login, {\n    method: \"POST\",\n    body: {\n      email,\n      password,\n      role\n    }\n  }),\n  logout: () => localStorage.removeItem(\"token\")\n};","map":{"version":3,"names":["API_BASE_URL","Login","Logout","getToken","localStorage","getItem","request","endpoint","method","body","headers","token","config","Authorization","JSON","stringify","res","fetch","data","json","ok","Error","message","AuthAPI","login","email","password","role","logout","removeItem"],"sources":["C:/kodingan/smart_cv/front-cv-analyzer/frontend/src/services/Api.js"],"sourcesContent":["// src/services/api.js\r\nconst API_BASE_URL = \"http://localhost:5000/api\";\r\n\r\n// Endpoint paths\r\nexport const Login = \"/auth/login\";\r\nexport const Logout = \"/auth/logout\";\r\n// Add more paths if needed\r\n\r\n// ======== Helper ========\r\nfunction getToken() {\r\n  return localStorage.getItem(\"token\");\r\n}\r\n\r\nasync function request(endpoint, { method = \"GET\", body, headers = {} } = {}) {\r\n  const token = getToken();\r\n\r\n  const config = {\r\n    method,\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n      ...headers,\r\n      ...(token ? { Authorization: `Bearer ${token}` } : {}),\r\n    },\r\n    ...(body ? { body: JSON.stringify(body) } : {}),\r\n  };\r\n\r\n  const res = await fetch(`${API_BASE_URL}${endpoint}`, config);\r\n  const data = await res.json();\r\n\r\n  if (!res.ok) {\r\n    throw new Error(data.message || \"API request error\");\r\n  }\r\n\r\n  return data;\r\n}\r\n\r\n// adjust as needed\r\n// ======== Auth API ========\r\nexport const AuthAPI = {\r\n  login: (email, password, role) =>\r\n    request(Login, { method: \"POST\", body: { email, password, role } }),\r\n  logout: () => localStorage.removeItem(\"token\"),\r\n};\r\n"],"mappings":"AAAA;AACA,MAAMA,YAAY,GAAG,2BAA2B;;AAEhD;AACA,OAAO,MAAMC,KAAK,GAAG,aAAa;AAClC,OAAO,MAAMC,MAAM,GAAG,cAAc;AACpC;;AAEA;AACA,SAASC,QAAQA,CAAA,EAAG;EAClB,OAAOC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;AACtC;AAEA,eAAeC,OAAOA,CAACC,QAAQ,EAAE;EAAEC,MAAM,GAAG,KAAK;EAAEC,IAAI;EAAEC,OAAO,GAAG,CAAC;AAAE,CAAC,GAAG,CAAC,CAAC,EAAE;EAC5E,MAAMC,KAAK,GAAGR,QAAQ,CAAC,CAAC;EAExB,MAAMS,MAAM,GAAG;IACbJ,MAAM;IACNE,OAAO,EAAE;MACP,cAAc,EAAE,kBAAkB;MAClC,GAAGA,OAAO;MACV,IAAIC,KAAK,GAAG;QAAEE,aAAa,EAAE,UAAUF,KAAK;MAAG,CAAC,GAAG,CAAC,CAAC;IACvD,CAAC;IACD,IAAIF,IAAI,GAAG;MAAEA,IAAI,EAAEK,IAAI,CAACC,SAAS,CAACN,IAAI;IAAE,CAAC,GAAG,CAAC,CAAC;EAChD,CAAC;EAED,MAAMO,GAAG,GAAG,MAAMC,KAAK,CAAC,GAAGjB,YAAY,GAAGO,QAAQ,EAAE,EAAEK,MAAM,CAAC;EAC7D,MAAMM,IAAI,GAAG,MAAMF,GAAG,CAACG,IAAI,CAAC,CAAC;EAE7B,IAAI,CAACH,GAAG,CAACI,EAAE,EAAE;IACX,MAAM,IAAIC,KAAK,CAACH,IAAI,CAACI,OAAO,IAAI,mBAAmB,CAAC;EACtD;EAEA,OAAOJ,IAAI;AACb;;AAEA;AACA;AACA,OAAO,MAAMK,OAAO,GAAG;EACrBC,KAAK,EAAEA,CAACC,KAAK,EAAEC,QAAQ,EAAEC,IAAI,KAC3BrB,OAAO,CAACL,KAAK,EAAE;IAAEO,MAAM,EAAE,MAAM;IAAEC,IAAI,EAAE;MAAEgB,KAAK;MAAEC,QAAQ;MAAEC;IAAK;EAAE,CAAC,CAAC;EACrEC,MAAM,EAAEA,CAAA,KAAMxB,YAAY,CAACyB,UAAU,CAAC,OAAO;AAC/C,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}